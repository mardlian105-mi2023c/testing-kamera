<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Informasi Gempa Terkini - BMKG</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 text-gray-800 p-6">
    <div class="max-w-3xl mx-auto bg-white rounded-xl shadow-md p-6">
      <h1 class="text-3xl font-bold text-blue-800 mb-4">
        ðŸŒ€ Informasi Gempa Terkini - BMKG
      </h1>
      <div id="gempa-container" class="space-y-4">
        <p>Memuat data gempa...</p>
      </div>
    </div>

    <script>
      async function ambilDataGempa() {
        try {
          const response = await fetch(
            "https://data.bmkg.go.id/DataMKG/TEWS/gempaterkini.json"
          );
          const data = await response.json();

          const gempaList = data.Infogempa.gempa;
          const container = document.getElementById("gempa-container");

          container.innerHTML = ""; // Kosongkan isi awal

          gempaList.forEach((gempa, index) => {
            const gempaCard = document.createElement("div");
            gempaCard.className =
              "bg-blue-50 p-4 rounded-lg shadow border border-blue-200";

            gempaCard.innerHTML = `
            <h2 class="text-xl font-semibold mb-2 text-blue-700">Gempa #${
              index + 1
            }</h2>
            <p><strong>Tanggal:</strong> ${gempa.Tanggal}</p>
            <p><strong>Jam:</strong> ${gempa.Jam}</p>
            <p><strong>Magnitude:</strong> ${gempa.Magnitude}</p>
            <p><strong>Kedalaman:</strong> ${gempa.Kedalaman}</p>
            <p><strong>Wilayah:</strong> ${gempa.Wilayah}</p>
            <p><strong>Koordinat:</strong> ${gempa.Coordinates}</p>
            <p><strong>Potensi:</strong> ${gempa.Potensi}</p>
          `;

            container.appendChild(gempaCard);
          });
        } catch (error) {
          document.getElementById("gempa-container").innerHTML =
            "<p class='text-red-500'>Gagal memuat data gempa dari BMKG.</p>";
          console.error("Error mengambil data gempa:", error);
        }
      }

      ambilDataGempa();
    </script>
  </body>
</html>
